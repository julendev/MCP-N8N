[
{
  "name": "crear_oferta",
  "description": "Crea una o más ofertas nuevas para un cliente sin contrato o existente. Se requiere un campo global 'cliente' y un array llamado 'ofertas' con los campos específicos por cada una.",
  "requires": ["cliente", "ofertas"],
  "optional": ["Address"],
  "structure": {
    "ofertas": {
      "requires": ["Tipo", "productos"],
      "optional": [
        "modelo",
        "TimeSubscription",
        "Edicion",
        "buses",
        "preguntas"
      ],
      "productos": {
        "type": "array",
        "element": {
          "requires": ["producto", "qty"],
          "optional": []
        }
      }
    }
  },
  "webhook": "https://digsilent.app.n8n.cloud/webhook/Crear"
},
{
  "name": "upgrade_oferta",
  "description": "Realiza una ampliación o mejora de una oferta ya existente para un cliente con contrato activo. Ideal para upgrades de edición, más nodos o funcionalidades.",
  "requires": ["ofertas"],
  "structure": {
    "ofertas": {
      "requires": ["cliente", "Tipo", "Contract ID", "productos"],
      "optional": [
        "Address",
        "modelo",
        "TimeSubscription",
        "Edicion",
        "buses",
        "preguntas"
      ],
      "productos": {
        "type": "array",
        "element": {
          "requires": ["producto", "qty"],
          "optional": []
        }
      }
    }
  },
  "webhook": "https://digsilent.app.n8n.cloud/webhook/Upgrade"
},
    {
  "name": "reply-email",
  "description": "Tras finalizar la tarea pedida, contesta al correo",
  "requires": ["conversationid"],
  "webhook": "https://digsilent.app.n8n.cloud/webhook/Reply"
},
  {
    "name": "modificar_oferta",
    "description": "Modifica una oferta de un cliente con contrato vigente",
    "requires": ["ofertas", "conversationid"],
      "structure": {
      "ofertas": {
        "requires": ["cliente", "Tipo"],
        "optional": [
          "Address",
          "modelo",
          "TimeSubscription",
          "Edicion",
          "buses",
          "productos",
          "qty",
          "preguntas"
        ]
      }
    },
    "webhook": "https://digsilent.app.n8n.cloud/webhook-test/Modify"
  }
]
